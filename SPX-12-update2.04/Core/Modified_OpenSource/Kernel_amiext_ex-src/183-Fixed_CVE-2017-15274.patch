diff -Naur linux_org/security/keys/keyctl.c linux/security/keys/keyctl.c
--- linux_org/security/keys/keyctl.c	2019-04-02 14:07:50.853959817 +0800
+++ linux/security/keys/keyctl.c	2019-04-02 14:08:22.632699149 +0800
@@ -93,7 +93,7 @@
 	payload = NULL;
 
 	vm = false;
-	if (_payload) {
+	if (plen) {
 		ret = -ENOMEM;
 		payload = kmalloc(plen, GFP_KERNEL | __GFP_NOWARN);
 		if (!payload) {
@@ -327,7 +327,7 @@
 
 	/* pull the payload in if one was supplied */
 	payload = NULL;
-	if (_payload) {
+	if (plen) {
 		ret = -ENOMEM;
 		payload = kmalloc(plen, GFP_KERNEL);
 		if (!payload)
