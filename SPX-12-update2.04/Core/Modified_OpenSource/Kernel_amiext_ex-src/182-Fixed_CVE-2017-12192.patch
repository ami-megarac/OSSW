diff -Naur linux_org/security/keys/keyctl.c linux/security/keys/keyctl.c
--- linux_org/security/keys/keyctl.c	2019-04-02 14:05:41.872401858 +0800
+++ linux/security/keys/keyctl.c	2019-04-02 14:06:14.699930501 +0800
@@ -731,6 +731,11 @@
 
 	key = key_ref_to_ptr(key_ref);
 
+	if (test_bit(KEY_FLAG_NEGATIVE, &key->flags)) {
+		ret = -ENOKEY;
+		goto error2;
+	}	
+	
 	/* see if we can read it directly */
 	ret = key_permission(key_ref, KEY_READ);
 	if (ret == 0)
