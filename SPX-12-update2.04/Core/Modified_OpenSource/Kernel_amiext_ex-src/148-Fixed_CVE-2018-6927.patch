diff -Naur linux_org/kernel/futex.c linux/kernel/futex.c
--- linux_org/kernel/futex.c	2019-03-21 17:28:09.890558635 +0800
+++ linux/kernel/futex.c	2019-03-21 17:42:51.057443594 +0800
@@ -1509,6 +1509,9 @@
 	struct futex_hash_bucket *hb1, *hb2;
 	struct futex_q *this, *next;
 
+	if (nr_wake < 0 || nr_requeue < 0)
+		return -EINVAL;	
+	
 	if (requeue_pi) {
 		/*
 		 * Requeue PI only works on two distinct uaddrs. This
