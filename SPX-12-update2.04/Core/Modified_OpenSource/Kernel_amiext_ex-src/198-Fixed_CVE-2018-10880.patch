diff -Naur linux_org/fs/ext4/xattr.c linux/fs/ext4/xattr.c
--- linux_org/fs/ext4/xattr.c	2019-04-10 16:10:03.077266507 +0800
+++ linux/fs/ext4/xattr.c	2019-04-10 16:14:17.414749255 +0800
@@ -1350,6 +1350,11 @@
 		/* Find the entry best suited to be pushed into EA block */
 		entry = NULL;
 		for (; !IS_LAST_ENTRY(last); last = EXT4_XATTR_NEXT(last)) {
+			/* never move system.data out of the inode */
+			if ((last->e_name_len == 4) &&
+			    (last->e_name_index == EXT4_XATTR_INDEX_SYSTEM) &&
+			    !memcmp(last->e_name, "data", 4))
+				continue;			
 			total_size =
 			EXT4_XATTR_SIZE(le32_to_cpu(last->e_value_size)) +
 					EXT4_XATTR_LEN(last->e_name_len);
